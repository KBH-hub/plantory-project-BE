<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원가입</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link rel="stylesheet" th:href="@{/css/alert.css}" />
</head>

<body class="bg-dark">

<div class="container py-5">
    <div class="mx-auto p-5 rounded shadow-lg bg-white" style="max-width:700px; border-radius:14px;">

        <div class="bg-dark text-white px-4 py-3 rounded mb-4">
            <h4 class="m-0 fw-bold">회원가입</h4>
        </div>

        <h2 class="text-center fw-bold mb-3 text-success">Plantory</h2>
        <p class="text-center mb-4 text-muted">식물을 관리하고 커뮤니티를 사용하려면 가입하세요.</p>

        <div class="text-center mb-4">
            <i class="fa-solid fa-user-circle" style="font-size:60px; color:#6c757d;"></i>
        </div>

        <form id="signUpForm" action="/members/signUp" method="post" class="needs-validation" novalidate>
            <div class="row g-3">
                <div class="col-md-6">
                    <label class="fw-bold">아이디 <span class="text-danger small">*</span></label>
                    <div class="input-group">
                        <input id="membernameInput" name="membername" type="text" class="form-control form-control"
                               required>
                        <button id="checkIdBtn" type="button" class="btn btn-outline-success">중복 확인</button>
                    </div>
                    <div id="membernameMessage" class="mt-1 fw-bold"></div>
                </div>
                
                <div class="col-md-6">
                    <label class="fw-bold">주소 <span class="text-danger small">*</span></label>
                    <div class="row g-2">
                        <div class="col-6">
                            <select id="sido" class="form-select" required>
                                <option value="">시/도</option>
                            </select>
                            <div class="invalid-feedback">주소는 필수입니다.</div>
                        </div>
                        <div class="col-6">
                            <select id="sigungu" class="form-select" required>
                                <option value="">시/군/구</option>
                            </select>
                            <div class="invalid-feedback">주소는 필수입니다.</div>
                            <input type="hidden" id="addressInput" name="address">
                        </div>
                    </div>
                </div>

                <div class="col-md-6">
                    <label class="fw-bold">닉네임 <span class="text-danger small">*</span></label>
                    <div class="input-group">
                        <input id="nicknameInput" name="nickname" type="text" class="form-control form-control" required>
                        <button id="checkNickNameBtn" type="button" class="btn btn-outline-success">중복 확인</button>
                    </div>
                    <div id="nicknameMessage" class="mt-1 fw-bold"></div>
                </div>

                <div class="col-md-6">
                    <label class="fw-bold">휴대전화 <span class="text-danger small">*</span></label>
                    <input id="phoneInput"
                           name="phone"
                           type="text"
                           class="form-control"
                           maxlength="13"
                           pattern="^010-[0-9]{4}-[0-9]{4}$"
                           required
                           placeholder="예) 010-1234-5678">
                    <div class="invalid-feedback">전화번호를 입력해주세요.</div>
                </div>

                <div class="col-md-6">
                    <label class="fw-bold">비밀번호 <span class="text-danger small">*</span></label>
                    <input id="passwordInput" name="password" type="password" class="form-control form-control"
                           required pattern="^(?=.*[0-9])(?=.*[!@#$%^&*]).{8,}$"
                           placeholder="8자 이상 + 숫자 + 특수문자 포함">
                    <div class="invalid-feedback">비밀번호는 8자 이상, 숫자 & 특수문자를 포함해야 합니다.</div>
                </div>

                <div class="col-md-6">
                    <label class="fw-bold">비밀번호 확인 <span class="text-danger small">*</span></label>
                    <input id="pwCheck" type="password" class="form-control" required>
                    <div class="invalid-feedback">비밀번호가 일치하지 않습니다.</div>
                </div>

            </div>

            <button class="btn btn-success w-100 mt-4" type="submit">가입하기</button>
        </form>

        <p class="text-center mt-3">
            이미 계정이 있으신가요?
            <a th:href="@{/login}" class="text-success fw-bold">로그인</a>
        </p>

    </div>
</div>
<script th:src="@{/js/common/korean.js}"></script>
<script th:src="@{/js/member/signUp.js}"></script>
<script th:src="@{/js/common/alert.js}"></script>
</body>
</html>
